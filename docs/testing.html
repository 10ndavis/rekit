
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Testing Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="webpack.html" />
    
    
    <link rel="prev" href="styling.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Read Me
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="get-started.html">
            
                <a href="get-started.html">
            
                    
                    Get Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="app.html">
            
                <a href="app.html">
            
                    
                    App Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="concepts.html">
            
                <a href="concepts.html">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="one-action-one-file.html">
            
                <a href="one-action-one-file.html">
            
                    
                    One Action One File
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="namings.html">
            
                <a href="namings.html">
            
                    
                    Namings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="core.html">
            
                <a href="core.html">
            
                    
                    Rekit Core
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <a target="_blank" href="https://medium.com/@nate_wang/introducing-rekit-studio-a-real-ide-for-react-and-redux-development-baf0c99cb542">
            
                    
                    Rekit Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                    Command Line Tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="plugin.html">
            
                <a href="plugin.html">
            
                    
                    Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="routing.html">
            
                <a href="routing.html">
            
                    
                    Routing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="styling.html">
            
                <a href="styling.html">
            
                    
                    Styling
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="testing.html">
            
                <a href="testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="webpack.html">
            
                <a href="webpack.html">
            
                    
                    Bundling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="eslint.html">
            
                <a href="eslint.html">
            
                    
                    Code Quality Check
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Testing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="testing">Testing</h2>
<p>Testing a React + Redux application is difficult, you need to know many libs/tools regarding React testing and learn their usage. But Rekit will setup everything for you. You just need to write test code in the auto generated test files, running test with Rekit Studio and reading the coverage report in a browser.</p>
<p>However here is the process of how React testing works. You can know how Rekit setups the testing process.</p>
<ol>
<li><a href="https://github.com/gotwarlost/istanbul" target="_blank">Istanbul</a> instruments the source code for test coverage report. Istanbul itself doesn&apos;t support JSX, but there&apos;s a babel plugin <a href="https://github.com/istanbuljs/babel-plugin-istanbul" target="_blank">babel-plugin-istanbul</a> then it works.</li>
<li>Webpack builds all testing files with <a href="https://github.com/zinserjan/mocha-webpack" target="_blank">mocha-webpack</a> which auto finds test files to test.</li>
<li><a href="https://github.com/mochajs/mocha" target="_blank">Mocha</a> runs the built version of testing files.</li>
<li><a href="https://github.com/istanbuljs/nyc" target="_blank">nyc</a> generates the test coverage report.</li>
</ol>
<p>All app testing files are saved in the folder <code>test/app</code>. And the folder structure is the same with the source code folder structure in <code>src</code> folder.</p>
<h4 id="how-rekit-generates-testing-files">How Rekit generates testing files</h4>
<p>When creating a new component or action, Rekit auto creates test cases for them. Even you don&apos;t add any code to to the generated test cases, they help you avoid simple errors. Such as:</p>
<ol>
<li>It ensures a component is always rendered successfully by checking the existance of the root DOM node with correct css class.</li>
<li>It ensures reducer is immutable by checking equality of the previous and new states.</li>
</ol>
<p>For example, when creating a new page, it generates below test case:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;renders node with correct class name&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> pageProps = {
    home: {},
    actions: {},
  };
  <span class="hljs-keyword">const</span> renderedComponent = shallow(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TestPage1</span> {<span class="hljs-attr">...pageProps</span>} /&gt;</span>
  );

  expect(
    renderedComponent.find(&apos;.home-test-page-1&apos;).node
  ).to.exist;
});
</span></code></pre>
<p>When creating an action, it generates below reducer test case:</p>
<pre><code class="lang-javascript">it(<span class="hljs-string">&apos;reducer should handle MY_ACTION&apos;</span>, () =&gt; {
  <span class="hljs-keyword">const</span> prevState = {};
  <span class="hljs-keyword">const</span> state = reducer(
    prevState,
    { type: MY_ACTION }
  );
  expect(state).to.not.equal(prevState); <span class="hljs-comment">// should be immutable</span>
  expect(state).to.deep.equal(prevState); <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> replace this line with real case.</span>
});
</code></pre>
<h4 id="run-tests">Run tests</h4>
<p>As you may have noticed, test cases also need to be built with webpack, then Mocha could run the test cases. So running a single test case file also needs the build. So <code>tools/run_test.js</code> is created to simplify this process. You can run any test case file just by the <code>run_test.js</code> tool. It&apos;s also exported as <code>npm test</code>. All arguments to it is just passed to the <code>run_test.js</code> script. The usage is as below:</p>
<pre><code>npm test  // run all tests of the project
npm test features/home // run tests under the `home` feature
npm test **/List.test.js // run all tests named list.test.js under app folder
</code></pre><p>The script is under your project, so you can edit it for free to meet your own requirements.</p>
<p>By default it does below things:</p>
<ol>
<li>Istanbul instruments the source code.</li>
<li>Mocha runs the test cases.</li>
<li>nyc generates the test coverage report.</li>
</ol>
<h4 id="see-the-coverage-report">See the coverage report</h4>
<p>If tests are are run for the whole project then test coverage report will be generated at <code>coverage</code> folder.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="styling.html" class="navigation navigation-prev " aria-label="Previous page: Styling">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="webpack.html" class="navigation navigation-next " aria-label="Next page: Bundling">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Testing","level":"1.13","depth":1,"next":{"title":"Bundling","level":"1.14","depth":1,"path":"docs/webpack.md","ref":"docs/webpack.md","articles":[]},"previous":{"title":"Styling","level":"1.12","depth":1,"path":"docs/styling.md","ref":"docs/styling.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"docs/testing.md","mtime":"2018-02-08T05:46:55.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-02-08T05:55:27.084Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

